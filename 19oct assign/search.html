<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search recipe</title>
    <link rel="stylesheet" href="./styles/search.css">
</head>
<body>
    <div id="navbar">
        
    </div>
    <div id ="searchInput"></div>
    <div id="container"></div>
</body>
</html>
<script type="module">
    import {navbar, input} from "./component/navbar.js";

    import {getData, append} from "./scripts/search.js"

    

    let navbar_div = document.getElementById("navbar");
    navbar_div.innerHTML = navbar();

    let inputdiv = document.getElementById("searchInput");
    inputdiv.innerHTML = input();

    let container = document.getElementById("container");

    let btn = document.getElementById("show");
    btn.addEventListener("click", show);

    

    async function show(){

        try{
            container.innerHTML = null;

            let query = document.getElementById("search").value;

            let res = await getData(`https://www.themealdb.com/api/json/v1/1/search.php?s=${query}`);

            console.log(res.meals);

            append(res.meals, container);
        } catch(e){
            console.log(e);
        }
    }
    
</script>